{"Version":"2019-10-30","StartAction":"d7bf4bbe-a1ff-441f-b4e2-8123be541722","Metadata":{"entryPointPosition":{"x":-792.8,"y":-436.8},"ActionMetadata":{"e57d0da6-2be8-49cd-ab74-791c6575635a":{"position":{"x":5024.8,"y":-1158.4}},"380038d4-0600-4204-b188-8e2936ceb55d":{"position":{"x":1009.6,"y":86.4}},"bccbce64-a244-44d8-a67b-3a87ca345430":{"position":{"x":4743.2,"y":-264.8}},"b696f17b-e2de-44e4-b7ba-96771286cafb":{"position":{"x":4012,"y":-965.6},"conditionMetadata":[{"id":"d7af14a0-3bb1-471b-abf4-4f4d85b77ac3","value":"1"},{"id":"c730d432-1a89-4111-b36e-58a32cec97b0","value":"2"}]},"79a9c5da-4f9d-4451-9693-2be44db0c162":{"position":{"x":5034.4,"y":-347.2}},"cde18880-fa57-46c8-96f3-b7d2c670015a":{"position":{"x":1480,"y":-1033.6},"conditionMetadata":[{"id":"5a64d3ac-6712-47c8-b6df-59a11e39f11f","value":"1"},{"id":"98da7d58-39f6-4ae7-9bd1-96994e9601a2","value":"2"}]},"d7bf4bbe-a1ff-441f-b4e2-8123be541722":{"position":{"x":-663.2,"y":-427.2}},"0a8838fa-77d4-48ed-8e82-b0be6b448ffe":{"position":{"x":-433.6,"y":-437.6},"dynamicParams":[]},"a1ab8209-56d7-4b25-af23-863d4390fb61":{"position":{"x":747.2,"y":92}},"53bbae2b-5eed-4c7f-9bac-b56116091442":{"position":{"x":4067.2,"y":-1271.2}},"Invoke General Purpose Bot":{"position":{"x":3798.4,"y":-1404},"isFriendlyName":true,"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"Prod","useLexBotDropdown":true,"lexV2BotName":"GeneralPurposeBot"}}},"dynamicMetadata":{"x-amz-lex:audio:start-timeout-ms:*:*":false,"x-amz-lex:audio:end-timeout-ms:*:*":false,"x-amz-lex:allow-interrupt:*:*":false},"useLexBotDropdown":true,"lexV2BotName":"GeneralPurposeBot","lexV2BotAliasName":"Prod","conditionMetadata":[{"id":"b6a2c27b-de91-44a1-9634-1c39a4028e25","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"MainMenuIntent"},{"id":"7d9de84e-c457-40c8-9196-24469cd7c20c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"RepeatIntent"},{"id":"767da8d4-c9cf-479e-a13a-18e8b945c68d","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"FallbackIntent"}]},"Play Appoinment Schedule Success Message":{"position":{"x":3548,"y":-1351.2},"isFriendlyName":true},"4b1f478a-1316-4f1f-8809-653ca3760a42":{"position":{"x":5308.8,"y":-1127.2}},"f4df7081-7efa-4174-9608-4a71f0514958":{"position":{"x":3484,"y":-451.2}},"da4a5a47-ed9a-421b-9212-c4859f120dab":{"position":{"x":4790.4,"y":-1156},"parameters":{"QueueId":{"displayName":"BasicQueue"}},"queue":{"text":"BasicQueue"}},"Play Unsuccessful Appointment Cancellation Message":{"position":{"x":3471.2,"y":-238.4},"isFriendlyName":true},"53a39734-fd81-4e18-9a47-58cf8af8a57c":{"position":{"x":1552.8,"y":-468},"conditions":[],"conditionMetadata":[{"id":"04e4c795-b803-4aea-a6fc-cef14a49b92a","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"Play Transfer Message":{"position":{"x":1996.8,"y":-39.2},"isFriendlyName":true},"Play AppointmentID Not Found Message":{"position":{"x":1766.4,"y":-36.8},"isFriendlyName":true},"654bbc5e-797b-4f84-af03-c2039933d38b":{"position":{"x":1272.8,"y":-383.2},"parameters":{"Attributes":{"statusCode":{"useDynamic":true},"appointmentDate":{"useDynamic":true},"time":{"useDynamic":true},"appointmentStatus":{"useDynamic":true},"location":{"useDynamic":true}}},"dynamicParams":["statusCode","appointmentDate","time","appointmentStatus","location"]},"bfc003ca-a86e-4fdc-8909-0022225a10b0":{"position":{"x":789.6,"y":-337.6},"parameters":{"Attributes":{"appointmentID":{"useDynamic":true}}},"dynamicParams":["appointmentID"]},"1fc27d34-9ff5-4d40-948a-2da62ea761bb":{"position":{"x":1028,"y":-380},"parameters":{"LambdaFunctionARN":{"displayName":"RetrieveAppointmentInfo"}},"dynamicMetadata":{" AppointmentID":false,"UserID":false}},"e7d6822c-db58-4862-9bb1-3ef1e0440b4e":{"position":{"x":1484.8,"y":-1230.4}},"Invoke General Purpose Bot2":{"position":{"x":1225.6,"y":-1304.8},"isFriendlyName":true,"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"Prod","useLexBotDropdown":true,"lexV2BotName":"GeneralPurposeBot"}}},"dynamicMetadata":{"x-amz-lex:audio:start-timeout-ms:*:*":false,"x-amz-lex:audio:end-timeout-ms:*:*":false,"x-amz-lex:allow-interrupt:*:*":false},"useLexBotDropdown":true,"lexV2BotName":"GeneralPurposeBot","lexV2BotAliasName":"Prod","conditionMetadata":[{"id":"3b0da8ea-eb5a-4b4f-a371-13648c4fb150","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"MainMenuIntent"},{"id":"aef34ecd-9643-41d7-93d1-a9410fef1a2c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"RepeatIntent"},{"id":"fe3db50a-badf-4876-832e-495f2aed4dd8","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"FallbackIntent"}]},"1331f480-893a-4756-a7fe-b8e50807ab84":{"position":{"x":1096.8,"y":-630.4}},"Play Schedule Info Message":{"position":{"x":990.4,"y":-1265.6},"isFriendlyName":true},"a09386fc-0006-4c17-9c16-1abbce4aad22":{"position":{"x":4120.8,"y":-250.4},"conditionMetadata":[{"id":"258d2330-d85b-4d61-b388-ab9876367c81","value":"1"},{"id":"6c6cd7bd-de4b-44c9-a82f-e77f4c2a16f8","value":"2"}]},"ff30dc02-67de-4a08-a616-4ba959105cbb":{"position":{"x":4976.8,"y":-1566.4}},"00382487-1a50-447f-8659-5398c2e3b0a1":{"position":{"x":4168,"y":-464}},"Play Appoinment Reschedule Success Message":{"position":{"x":3582.4,"y":-636.8},"isFriendlyName":true},"Invoke General Purpose Bot1":{"position":{"x":3888,"y":-562.4},"isFriendlyName":true,"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"Prod","useLexBotDropdown":true,"lexV2BotName":"GeneralPurposeBot"}}},"dynamicMetadata":{"x-amz-lex:audio:start-timeout-ms:*:*":false,"x-amz-lex:audio:end-timeout-ms:*:*":false,"x-amz-lex:allow-interrupt:*:*":false},"useLexBotDropdown":true,"lexV2BotName":"GeneralPurposeBot","lexV2BotAliasName":"Prod","conditionMetadata":[{"id":"de6a45d4-d2fa-4822-a223-3fd88c8e8728","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"MainMenuIntent"},{"id":"bda6de80-d643-48a9-9add-6e28f8c47d23","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"RepeatIntent"},{"id":"572951c2-53a1-4834-9f32-7282430f6945","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"FallbackIntent"}]},"Play Appoinment Schedule Unsuccessful Message":{"position":{"x":3544,"y":-1016},"isFriendlyName":true},"0fe5a56b-e2b6-4a15-9aa0-e04cb96ca496":{"position":{"x":511.2,"y":-202.4},"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"Prod","useLexBotDropdown":true,"lexV2BotName":"AppointmentIDBot"}}},"useLexBotDropdown":true,"lexV2BotName":"AppointmentIDBot","lexV2BotAliasName":"Prod","conditionMetadata":[{"id":"73fec4d6-86a1-48af-8bbd-6705b89af597","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"AppointmentIDIntent"},{"id":"ee828eb9-ccd0-4f30-88f1-13cd99846c40","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"FallbackIntent"}]},"248ed7ec-3738-4a15-bec8-70d5791ccd7e":{"position":{"x":3237.6,"y":-444.8},"conditions":[],"conditionMetadata":[{"id":"710182e2-2bf6-41af-ad57-2d3867f153b7","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"Play Confirmation Cancel Message":{"position":{"x":2519.2,"y":-433.6},"isFriendlyName":true},"8441f959-e183-4502-90bc-b2757427d8a4":{"position":{"x":2985.6,"y":-439.2},"parameters":{"Attributes":{"statusCode":{"useDynamic":true}}},"dynamicParams":["statusCode"]},"Lambda Call to delete Appointment Record":{"position":{"x":2748,"y":-441.6},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"CancelAppointment"}},"dynamicMetadata":{" AppointmentID":false,"UserID":false}},"cc12a650-9763-4460-8f1c-489bab04ec32":{"position":{"x":752,"y":-841.6},"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"Prod","useLexBotDropdown":true,"lexV2BotName":"AppointmentBot"}}},"useLexBotDropdown":true,"lexV2BotName":"AppointmentBot","lexV2BotAliasName":"Prod","conditionMetadata":[{"id":"f55c9149-0571-4fa4-b685-df33bb4c9cd2","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"ScheduleInfoIntent"},{"id":"d30446c6-34f6-41ad-9420-fcd04b41c5b6","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"RescheduleIntent"},{"id":"49aca135-7cab-4109-8290-8dd114df9b05","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"CancelAppointmentIntent"},{"id":"59e9f12a-9e30-4be5-a965-8fc74aef146c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"FallbackIntent"}]},"Play AppointmentID Found Message":{"position":{"x":1791.2,"y":-551.2},"isFriendlyName":true},"b1982e81-77cc-4803-89f4-1a96b82ef8e0":{"position":{"x":2536.8,"y":-227.2}},"4e9dcfdd-6bb2-41f8-b619-1fe7bf278781":{"position":{"x":2292,"y":-324.8},"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"Prod","useLexBotDropdown":true,"lexV2BotName":"YesNoBot"}}},"useLexBotDropdown":true,"lexV2BotName":"YesNoBot","lexV2BotAliasName":"Prod","conditionMetadata":[{"id":"601097b9-5183-4577-9bed-bda0554b6886","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"YupIntent"},{"id":"bafeea4d-e19a-4eab-8efd-733a7104a421","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"NopeIntent"}]},"d2a6b89a-6805-4f62-9fe9-ed092f28a129":{"position":{"x":3750.4,"y":-937.6}},"be3214a3-a7aa-4de0-8801-614345a5c258":{"position":{"x":2396.8,"y":-865.6},"parameters":{"Attributes":{"AppointmentDate":{"useDynamic":true},"Time":{"useDynamic":true}}},"dynamicParams":["AppointmentDate","Time"]},"6ccbf955-c153-4381-9d5b-7a1b729cd000":{"position":{"x":5040,"y":-128}},"Play UserID and Appointment Match Message":{"position":{"x":528.8,"y":-642.4},"isFriendlyName":true,"conditionMetadata":[{"id":"d23d2959-d3da-471a-9283-522cb3d47858","value":"1"},{"id":"a87605ff-3e68-4507-88c5-21db9a7ef03f","value":"2"}]},"2d515491-fdbf-466e-9b17-da20ec72a5ed":{"position":{"x":2044,"y":-644},"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"Prod","useLexBotDropdown":true,"lexV2BotName":"AppointmentBot"}}},"useLexBotDropdown":true,"lexV2BotName":"AppointmentBot","lexV2BotAliasName":"Prod","conditionMetadata":[{"id":"2847d042-2ff5-4d45-bdbf-0b9e31914111","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"ScheduleIntent"},{"id":"040da7cf-750f-435d-bdef-d77e1ddc97a4","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"RescheduleIntent"},{"id":"3608db4b-f7d6-42a9-baa6-3710e140d1b5","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"CancelAppointmentIntent"}]},"97cdd71f-021d-4a36-b02f-06c0e173cd72":{"position":{"x":2340.8,"y":-1240},"parameters":{"Attributes":{"AppointmentDate":{"useDynamic":true},"Time":{"useDynamic":true},"VaccineType":{"useDynamic":true}}},"dynamicParams":["AppointmentDate","Time","VaccineType"]},"a1040e7f-1c8a-4df2-ad05-af20b6d88a5e":{"position":{"x":3328,"y":-1268},"conditions":[],"conditionMetadata":[{"id":"eee94d58-4e87-41c7-bbb1-c18f6deb4c16","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"418a375a-335a-4f9a-a49a-8a32e1e68a39":{"position":{"x":2591.2,"y":-1243.2}},"51008c6f-e663-4ada-ab89-a47795eea31a":{"position":{"x":3088,"y":-1254.4},"parameters":{"Attributes":{"statusCode":{"useDynamic":true}}},"dynamicParams":["statusCode"]},"Lambda Call to Schedule Appointment":{"position":{"x":2846.4,"y":-1244.8},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"NewAppointment"}},"dynamicMetadata":{"AppointmentDate":false,"Time":false,"VaccineType":false,"UserID":false}},"279e8ddf-7132-458e-98b2-843bdade7604":{"position":{"x":-196.8,"y":-440.8},"parameters":{"LambdaFunctionARN":{"displayName":"RetrieveAppointmentInfo"}},"dynamicMetadata":{"UserID":false}},"8d78b811-54c5-4c29-99f4-bfa0ccd3e00c":{"position":{"x":276.8,"y":-450.4},"conditions":[],"conditionMetadata":[{"id":"0490201b-b58c-4dd7-aef6-a9f05ef45689","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"bb7029bd-de67-4dab-8481-71665da70bfb":{"position":{"x":34.4,"y":-440.8},"parameters":{"Attributes":{"statusCode":{"useDynamic":true},"appointmentDate":{"useDynamic":true},"time":{"useDynamic":true},"appointmentStatus":{"useDynamic":true},"location":{"useDynamic":true},"vaccineType":{"useDynamic":true},"appointmentID":{"useDynamic":true}}},"dynamicParams":["statusCode","appointmentDate","time","appointmentStatus","location","vaccineType","appointmentID"]},"79a7174a-95e7-475e-91ab-5d94a014bd64":{"position":{"x":2625.6,"y":-868}},"90e8b033-b709-4512-97a5-429f04b179f1":{"position":{"x":3295.2,"y":-878.4},"conditions":[],"conditionMetadata":[{"id":"06b2068e-052d-4c91-9cc7-75f58dea05ae","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"Lambda Call to Reschedule Appointment":{"position":{"x":2847.2,"y":-872.8},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"RescheduleAppointment"}},"dynamicMetadata":{" AppointmentID":false,"UserID":false,"Time":false,"AppointmentDate":false}},"8a12f8ed-2c09-4535-abd7-9ea1f4076d93":{"position":{"x":3071.2,"y":-870.4},"parameters":{"Attributes":{"statusCode":{"useDynamic":true},"appointmentDate":{"useDynamic":true},"time":{"useDynamic":true}}},"dynamicParams":["statusCode","appointmentDate","time"]}},"Annotations":[],"name":"module_appointments","description":"","status":"published","hash":{}},"Actions":[{"Parameters":{},"Identifier":"e57d0da6-2be8-49cd-ab74-791c6575635a","Type":"TransferContactToQueue","Transitions":{"NextAction":"4b1f478a-1316-4f1f-8809-653ca3760a42","Errors":[{"NextAction":"4b1f478a-1316-4f1f-8809-653ca3760a42","ErrorType":"QueueAtCapacity"},{"NextAction":"4b1f478a-1316-4f1f-8809-653ca3760a42","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"I'm sorry, I was not able to understand you."},"Identifier":"380038d4-0600-4204-b188-8e2936ceb55d","Type":"MessageParticipant","Transitions":{"NextAction":"Play Transfer Message","Errors":[{"NextAction":"Play Transfer Message","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LoopCount":"2"},"Identifier":"bccbce64-a244-44d8-a67b-3a87ca345430","Type":"Loop","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"79a9c5da-4f9d-4451-9693-2be44db0c162","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"8","SSML":"I didn't catch that. Press 1 to return to the main menu, 2 to hear it all over again. Otherwise if you're done, just hang up."},"Identifier":"b696f17b-e2de-44e4-b7ba-96771286cafb","Type":"GetParticipantInput","Transitions":{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","Conditions":[{"NextAction":"ff30dc02-67de-4a08-a616-4ba959105cbb","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"53bbae2b-5eed-4c7f-9bac-b56116091442","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","ErrorType":"NoMatchingCondition"},{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"I'm sorry that was not a valid input. Please try again."},"Identifier":"79a9c5da-4f9d-4451-9693-2be44db0c162","Type":"MessageParticipant","Transitions":{"NextAction":"Invoke General Purpose Bot","Errors":[{"NextAction":"Invoke General Purpose Bot","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"8","SSML":"I didn't catch that. Press 1 to return to the main menu, 2 to hear it all over again. Otherwise if you're done, just hang up."},"Identifier":"cde18880-fa57-46c8-96f3-b7d2c670015a","Type":"GetParticipantInput","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"ff30dc02-67de-4a08-a616-4ba959105cbb","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"e7d6822c-db58-4862-9bb1-3ef1e0440b4e","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingCondition"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"d7bf4bbe-a1ff-441f-b4e2-8123be541722","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"0a8838fa-77d4-48ed-8e82-b0be6b448ffe"}},{"Parameters":{"Attributes":{"flowName":"Appointments"},"TargetContact":"Current"},"Identifier":"0a8838fa-77d4-48ed-8e82-b0be6b448ffe","Type":"UpdateContactAttributes","Transitions":{"NextAction":"279e8ddf-7132-458e-98b2-843bdade7604","Errors":[{"NextAction":"279e8ddf-7132-458e-98b2-843bdade7604","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LoopCount":"2"},"Identifier":"a1ab8209-56d7-4b25-af23-863d4390fb61","Type":"Loop","Transitions":{"NextAction":"380038d4-0600-4204-b188-8e2936ceb55d","Conditions":[{"NextAction":"0fe5a56b-e2b6-4a15-9aa0-e04cb96ca496","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"380038d4-0600-4204-b188-8e2936ceb55d","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"LoopCount":"2"},"Identifier":"53bbae2b-5eed-4c7f-9bac-b56116091442","Type":"Loop","Transitions":{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","Conditions":[{"NextAction":"Play Appoinment Schedule Success Message","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Text":"\"You can say \"Repeat that\", or to do something else, say \"Main Menu\" or if that's all you need, feel free to hang up.\"","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:992382814914:bot-alias/F7ZSXPAJAO/WCMBHXO8CH"},"LexSessionAttributes":{"x-amz-lex:audio:start-timeout-ms:*:*":"3000","x-amz-lex:audio:end-timeout-ms:*:*":"2000","x-amz-lex:allow-interrupt:*:*":"true"}},"Identifier":"Invoke General Purpose Bot","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"b696f17b-e2de-44e4-b7ba-96771286cafb","Conditions":[{"NextAction":"ff30dc02-67de-4a08-a616-4ba959105cbb","Condition":{"Operator":"Equals","Operands":["MainMenuIntent"]}},{"NextAction":"53bbae2b-5eed-4c7f-9bac-b56116091442","Condition":{"Operator":"Equals","Operands":["RepeatIntent"]}},{"NextAction":"b696f17b-e2de-44e4-b7ba-96771286cafb","Condition":{"Operator":"Equals","Operands":["FallbackIntent"]}}],"Errors":[{"NextAction":"b696f17b-e2de-44e4-b7ba-96771286cafb","ErrorType":"NoMatchingCondition"},{"NextAction":"b696f17b-e2de-44e4-b7ba-96771286cafb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Your appointment has successfuly been schedule on $.Attributes.appointmentDate at $.Attributes.time for a $.Attributes.vaccineType vaccine."},"Identifier":"Play Appoinment Schedule Success Message","Type":"MessageParticipant","Transitions":{"NextAction":"Invoke General Purpose Bot","Errors":[{"NextAction":"Invoke General Purpose Bot","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"4b1f478a-1316-4f1f-8809-653ca3760a42","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"Okay, your appointment has been successfully cancelled. If you have any concerns, please call us at 1800-222-1111. Thank you and have a wonderful day."},"Identifier":"f4df7081-7efa-4174-9608-4a71f0514958","Type":"MessageParticipant","Transitions":{"NextAction":"4b1f478a-1316-4f1f-8809-653ca3760a42","Errors":[{"NextAction":"4b1f478a-1316-4f1f-8809-653ca3760a42","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"arn:aws:connect:us-east-1:992382814914:instance/592b03e5-5333-4228-86df-1e673e715d64/queue/5cf37683-8825-4336-bb53-437e78a79dc9"},"Identifier":"da4a5a47-ed9a-421b-9212-c4859f120dab","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"e57d0da6-2be8-49cd-ab74-791c6575635a","Errors":[{"NextAction":"e57d0da6-2be8-49cd-ab74-791c6575635a","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"I'm sorry, something went wrong and I was unable to cancel your appointment. Let me transfer you to a staff member."},"Identifier":"Play Unsuccessful Appointment Cancellation Message","Type":"MessageParticipant","Transitions":{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","Errors":[{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.statusCode"},"Identifier":"53a39734-fd81-4e18-9a47-58cf8af8a57c","Type":"Compare","Transitions":{"NextAction":"Play AppointmentID Not Found Message","Conditions":[{"NextAction":"Play AppointmentID Found Message","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"Play AppointmentID Not Found Message","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"Please hold and I will get someone on the line to help you."},"Identifier":"Play Transfer Message","Type":"MessageParticipant","Transitions":{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","Errors":[{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"I'm sorry, I could not find your appointment."},"Identifier":"Play AppointmentID Not Found Message","Type":"MessageParticipant","Transitions":{"NextAction":"Play Transfer Message","Errors":[{"NextAction":"Play Transfer Message","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"statusCode":"$.External.statusCode","appointmentDate":"$.External.AppointmentDate","time":"$.External.Time","appointmentStatus":"$.External.AppointmentStatus","location":"$.External.Location","vaccineType":"VaccineType"},"TargetContact":"Current"},"Identifier":"654bbc5e-797b-4f84-af03-c2039933d38b","Type":"UpdateContactAttributes","Transitions":{"NextAction":"53a39734-fd81-4e18-9a47-58cf8af8a57c","Errors":[{"NextAction":"53a39734-fd81-4e18-9a47-58cf8af8a57c","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"appointmentID":"$.Lex.Slots.appointment_ID"},"TargetContact":"Current"},"Identifier":"bfc003ca-a86e-4fdc-8909-0022225a10b0","Type":"UpdateContactAttributes","Transitions":{"NextAction":"1fc27d34-9ff5-4d40-948a-2da62ea761bb","Errors":[{"NextAction":"1fc27d34-9ff5-4d40-948a-2da62ea761bb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:992382814914:function:RetrieveAppointmentInfo","InvocationTimeLimitSeconds":"3","LambdaInvocationAttributes":{" AppointmentID":"$.Attributes.appointmentID","UserID":"$.Attributes.userID"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"1fc27d34-9ff5-4d40-948a-2da62ea761bb","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"654bbc5e-797b-4f84-af03-c2039933d38b","Errors":[{"NextAction":"654bbc5e-797b-4f84-af03-c2039933d38b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LoopCount":"2"},"Identifier":"e7d6822c-db58-4862-9bb1-3ef1e0440b4e","Type":"Loop","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"Play Schedule Info Message","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Text":"\"You can say \"Repeat that\", or to do something else, say \"Main Menu\" or if that's all you need, feel free to hang up.\"","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:992382814914:bot-alias/F7ZSXPAJAO/WCMBHXO8CH"},"LexSessionAttributes":{"x-amz-lex:audio:start-timeout-ms:*:*":"3000","x-amz-lex:audio:end-timeout-ms:*:*":"2000","x-amz-lex:allow-interrupt:*:*":"true"}},"Identifier":"Invoke General Purpose Bot2","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"cde18880-fa57-46c8-96f3-b7d2c670015a","Conditions":[{"NextAction":"ff30dc02-67de-4a08-a616-4ba959105cbb","Condition":{"Operator":"Equals","Operands":["MainMenuIntent"]}},{"NextAction":"e7d6822c-db58-4862-9bb1-3ef1e0440b4e","Condition":{"Operator":"Equals","Operands":["RepeatIntent"]}},{"NextAction":"cde18880-fa57-46c8-96f3-b7d2c670015a","Condition":{"Operator":"Equals","Operands":["FallbackIntent"]}}],"Errors":[{"NextAction":"cde18880-fa57-46c8-96f3-b7d2c670015a","ErrorType":"NoMatchingCondition"},{"NextAction":"cde18880-fa57-46c8-96f3-b7d2c670015a","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"I'm sorry, I was not able to understand you."},"Identifier":"1331f480-893a-4756-a7fe-b8e50807ab84","Type":"MessageParticipant","Transitions":{"NextAction":"Play Transfer Message","Errors":[{"NextAction":"Play Transfer Message","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"It seems like your appointment is scheduled on $.Attributes.appointmentDate at $.Attributes.time. The location is $.Attributes.location. We have you scheduled to receive $.Attributes.vaccineType vaccine."},"Identifier":"Play Schedule Info Message","Type":"MessageParticipant","Transitions":{"NextAction":"Invoke General Purpose Bot2","Errors":[{"NextAction":"Invoke General Purpose Bot2","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"8","SSML":"I didn't catch that. Press 1 to return to the main menu, 2 to hear it all over again. Otherwise if you're done, just hang up."},"Identifier":"a09386fc-0006-4c17-9c16-1abbce4aad22","Type":"GetParticipantInput","Transitions":{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","Conditions":[{"NextAction":"ff30dc02-67de-4a08-a616-4ba959105cbb","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"00382487-1a50-447f-8659-5398c2e3b0a1","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","ErrorType":"NoMatchingCondition"},{"NextAction":"bccbce64-a244-44d8-a67b-3a87ca345430","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"ff30dc02-67de-4a08-a616-4ba959105cbb","Type":"EndFlowModuleExecution","Transitions":{}},{"Parameters":{"LoopCount":"2"},"Identifier":"00382487-1a50-447f-8659-5398c2e3b0a1","Type":"Loop","Transitions":{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","Conditions":[{"NextAction":"Play Appoinment Reschedule Success Message","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"da4a5a47-ed9a-421b-9212-c4859f120dab","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Text":"Your appointment has successfuly been schedule on $.Attributes.appointmentDate at $.Attributes.time for a $.Attributes.vaccineType vaccine."},"Identifier":"Play Appoinment Reschedule Success Message","Type":"MessageParticipant","Transitions":{"NextAction":"Invoke General Purpose Bot1","Errors":[{"NextAction":"Invoke General Purpose Bot1","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"\"You can say \"Repeat that\", or to do something else, say \"Main Menu\" or if that's all you need, feel free to hang up.\"","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:992382814914:bot-alias/F7ZSXPAJAO/WCMBHXO8CH"},"LexSessionAttributes":{"x-amz-lex:audio:start-timeout-ms:*:*":"3000","x-amz-lex:audio:end-timeout-ms:*:*":"2000","x-amz-lex:allow-interrupt:*:*":"true"}},"Identifier":"Invoke General Purpose Bot1","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"a09386fc-0006-4c17-9c16-1abbce4aad22","Conditions":[{"NextAction":"ff30dc02-67de-4a08-a616-4ba959105cbb","Condition":{"Operator":"Equals","Operands":["MainMenuIntent"]}},{"NextAction":"00382487-1a50-447f-8659-5398c2e3b0a1","Condition":{"Operator":"Equals","Operands":["RepeatIntent"]}},{"NextAction":"a09386fc-0006-4c17-9c16-1abbce4aad22","Condition":{"Operator":"Equals","Operands":["FallbackIntent"]}}],"Errors":[{"NextAction":"a09386fc-0006-4c17-9c16-1abbce4aad22","ErrorType":"NoMatchingCondition"},{"NextAction":"a09386fc-0006-4c17-9c16-1abbce4aad22","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"I'm sorry, something went wrong. Let's try that again."},"Identifier":"Play Appoinment Schedule Unsuccessful Message","Type":"MessageParticipant","Transitions":{"NextAction":"d2a6b89a-6805-4f62-9fe9-ed092f28a129","Errors":[{"NextAction":"d2a6b89a-6805-4f62-9fe9-ed092f28a129","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"If you have a 9-digit appointment ID, please state it now. If you don't have an appointment ID and would like to schedule an appointment, please call 1800-555-2045.","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:992382814914:bot-alias/KN0DQMAHCV/KYWXG6IIDY"}},"Identifier":"0fe5a56b-e2b6-4a15-9aa0-e04cb96ca496","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"bfc003ca-a86e-4fdc-8909-0022225a10b0","Condition":{"Operator":"Equals","Operands":["AppointmentIDIntent"]}},{"NextAction":"a1ab8209-56d7-4b25-af23-863d4390fb61","Condition":{"Operator":"Equals","Operands":["FallbackIntent"]}}],"Errors":[{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingCondition"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.statusCode"},"Identifier":"248ed7ec-3738-4a15-bec8-70d5791ccd7e","Type":"Compare","Transitions":{"NextAction":"Play Unsuccessful Appointment Cancellation Message","Conditions":[{"NextAction":"f4df7081-7efa-4174-9608-4a71f0514958","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"Play Unsuccessful Appointment Cancellation Message","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"Okay, give me one moment as I cancel your appointment."},"Identifier":"Play Confirmation Cancel Message","Type":"MessageParticipant","Transitions":{"NextAction":"Lambda Call to delete Appointment Record","Errors":[{"NextAction":"Lambda Call to delete Appointment Record","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"statusCode":"$.External.statusCode"},"TargetContact":"Current"},"Identifier":"8441f959-e183-4502-90bc-b2757427d8a4","Type":"UpdateContactAttributes","Transitions":{"NextAction":"248ed7ec-3738-4a15-bec8-70d5791ccd7e","Errors":[{"NextAction":"248ed7ec-3738-4a15-bec8-70d5791ccd7e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:992382814914:function:CancelAppointment","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{" AppointmentID":"$.Attributes.appointmentID","UserID":"$.Attributes.userID"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Lambda Call to delete Appointment Record","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"8441f959-e183-4502-90bc-b2757427d8a4","Errors":[{"NextAction":"8441f959-e183-4502-90bc-b2757427d8a4","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Great! What would you like to do? You can say 'Reschedule my appoinment', \"Cancel my appointment', or Schedule Info?","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:992382814914:bot-alias/BQRDXLDER3/90KFT8YRSN"}},"Identifier":"cc12a650-9763-4460-8f1c-489bab04ec32","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"Play Schedule Info Message","Condition":{"Operator":"Equals","Operands":["ScheduleInfoIntent"]}},{"NextAction":"be3214a3-a7aa-4de0-8801-614345a5c258","Condition":{"Operator":"Equals","Operands":["RescheduleIntent"]}},{"NextAction":"4e9dcfdd-6bb2-41f8-b619-1fe7bf278781","Condition":{"Operator":"Equals","Operands":["CancelAppointmentIntent"]}},{"NextAction":"1331f480-893a-4756-a7fe-b8e50807ab84","Condition":{"Operator":"Equals","Operands":["FallbackIntent"]}}],"Errors":[{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingCondition"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Thanks I found your appointment."},"Identifier":"Play AppointmentID Found Message","Type":"MessageParticipant","Transitions":{"NextAction":"2d515491-fdbf-466e-9b17-da20ec72a5ed","Errors":[{"NextAction":"2d515491-fdbf-466e-9b17-da20ec72a5ed","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LoopCount":"1"},"Identifier":"b1982e81-77cc-4803-89f4-1a96b82ef8e0","Type":"Loop","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"2d515491-fdbf-466e-9b17-da20ec72a5ed","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Text":"Do you want to cancel your appointment on $.Attributes.Date at $.Attributes.Time ?","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:992382814914:bot-alias/BOBVHRBE2D/GI7KESNNEF"}},"Identifier":"4e9dcfdd-6bb2-41f8-b619-1fe7bf278781","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"Play Confirmation Cancel Message","Condition":{"Operator":"Equals","Operands":["YupIntent"]}},{"NextAction":"b1982e81-77cc-4803-89f4-1a96b82ef8e0","Condition":{"Operator":"Equals","Operands":["NopeIntent"]}}],"Errors":[{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingCondition"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LoopCount":"1"},"Identifier":"d2a6b89a-6805-4f62-9fe9-ed092f28a129","Type":"Loop","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"2d515491-fdbf-466e-9b17-da20ec72a5ed","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Attributes":{"AppointmentDate":"$.Lex.Slots.Date","Time":"$.Lex.Slots.Time"},"TargetContact":"Current"},"Identifier":"be3214a3-a7aa-4de0-8801-614345a5c258","Type":"UpdateContactAttributes","Transitions":{"NextAction":"79a7174a-95e7-475e-91ab-5d94a014bd64","Errors":[{"NextAction":"79a7174a-95e7-475e-91ab-5d94a014bd64","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"It seems like I'm having some problems. Please call again at a later time. Thank you."},"Identifier":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Type":"MessageParticipant","Transitions":{"NextAction":"4b1f478a-1316-4f1f-8809-653ca3760a42","Errors":[{"NextAction":"4b1f478a-1316-4f1f-8809-653ca3760a42","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"8","Text":"Hey $.Attributes.name , I see that you have an appointment scheduled for $.Attributes.appointmentDate . Is this the reason you are calling today? Press 1 for Yes, Press 2 for No."},"Identifier":"Play UserID and Appointment Match Message","Type":"GetParticipantInput","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"cc12a650-9763-4460-8f1c-489bab04ec32","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"2d515491-fdbf-466e-9b17-da20ec72a5ed","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingCondition"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"What would you like to do? You can say Reschedule Appointment, Cancel Appointment, or Schedule a new appointment.","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:992382814914:bot-alias/BQRDXLDER3/90KFT8YRSN"}},"Identifier":"2d515491-fdbf-466e-9b17-da20ec72a5ed","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","Conditions":[{"NextAction":"97cdd71f-021d-4a36-b02f-06c0e173cd72","Condition":{"Operator":"Equals","Operands":["ScheduleIntent"]}},{"NextAction":"be3214a3-a7aa-4de0-8801-614345a5c258","Condition":{"Operator":"Equals","Operands":["RescheduleIntent"]}},{"NextAction":"4e9dcfdd-6bb2-41f8-b619-1fe7bf278781","Condition":{"Operator":"Equals","Operands":["CancelAppointmentIntent"]}}],"Errors":[{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingCondition"},{"NextAction":"6ccbf955-c153-4381-9d5b-7a1b729cd000","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"AppointmentDate":"$.Lex.Slots.Date","Time":"$.Lex.Slots.Time","VaccineType":"$.Lex.Slots.vaccine_type"},"TargetContact":"Current"},"Identifier":"97cdd71f-021d-4a36-b02f-06c0e173cd72","Type":"UpdateContactAttributes","Transitions":{"NextAction":"418a375a-335a-4f9a-a49a-8a32e1e68a39","Errors":[{"NextAction":"418a375a-335a-4f9a-a49a-8a32e1e68a39","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.statusCode"},"Identifier":"a1040e7f-1c8a-4df2-ad05-af20b6d88a5e","Type":"Compare","Transitions":{"NextAction":"Play Appoinment Schedule Unsuccessful Message","Conditions":[{"NextAction":"Play Appoinment Schedule Success Message","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"Play Appoinment Schedule Unsuccessful Message","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"Okay, give me one moment as I schedule your appointment."},"Identifier":"418a375a-335a-4f9a-a49a-8a32e1e68a39","Type":"MessageParticipant","Transitions":{"NextAction":"Lambda Call to Schedule Appointment","Errors":[{"NextAction":"Lambda Call to Schedule Appointment","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"statusCode":"$.External.statusCode"},"TargetContact":"Current"},"Identifier":"51008c6f-e663-4ada-ab89-a47795eea31a","Type":"UpdateContactAttributes","Transitions":{"NextAction":"a1040e7f-1c8a-4df2-ad05-af20b6d88a5e","Errors":[{"NextAction":"a1040e7f-1c8a-4df2-ad05-af20b6d88a5e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:992382814914:function:NewAppointment","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"AppointmentDate":"$.Attributes.AppointmentDate","Time":"$.Attributes.Time","VaccineType":"$.Attributes.VaccineType","UserID":"$.Attributes.userID"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Lambda Call to Schedule Appointment","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"51008c6f-e663-4ada-ab89-a47795eea31a","Errors":[{"NextAction":"51008c6f-e663-4ada-ab89-a47795eea31a","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:992382814914:function:RetrieveAppointmentInfo","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"UserID":"$.Attributes.userID"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"279e8ddf-7132-458e-98b2-843bdade7604","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"bb7029bd-de67-4dab-8481-71665da70bfb","Errors":[{"NextAction":"bb7029bd-de67-4dab-8481-71665da70bfb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.statusCode"},"Identifier":"8d78b811-54c5-4c29-99f4-bfa0ccd3e00c","Type":"Compare","Transitions":{"NextAction":"0fe5a56b-e2b6-4a15-9aa0-e04cb96ca496","Conditions":[{"NextAction":"Play UserID and Appointment Match Message","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"0fe5a56b-e2b6-4a15-9aa0-e04cb96ca496","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Attributes":{"statusCode":"$.External.statusCode","appointmentDate":"$.External.AppointmentDate","time":"$.External.Time","appointmentStatus":"$.External.AppointmentStatus","location":"$.External.Location","vaccineType":"$.External.VaccineType","appointmentID":"$.External.AppointmentID"},"TargetContact":"Current"},"Identifier":"bb7029bd-de67-4dab-8481-71665da70bfb","Type":"UpdateContactAttributes","Transitions":{"NextAction":"8d78b811-54c5-4c29-99f4-bfa0ccd3e00c","Errors":[{"NextAction":"8d78b811-54c5-4c29-99f4-bfa0ccd3e00c","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Okay, give me one moment as I reschedule your appointment."},"Identifier":"79a7174a-95e7-475e-91ab-5d94a014bd64","Type":"MessageParticipant","Transitions":{"NextAction":"Lambda Call to Reschedule Appointment","Errors":[{"NextAction":"Lambda Call to Reschedule Appointment","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.statusCode"},"Identifier":"90e8b033-b709-4512-97a5-429f04b179f1","Type":"Compare","Transitions":{"NextAction":"Play Appoinment Schedule Unsuccessful Message","Conditions":[{"NextAction":"Play Appoinment Reschedule Success Message","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"Play Appoinment Schedule Unsuccessful Message","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:992382814914:function:RescheduleAppointment","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{" AppointmentID":"$.Attributes.appointmentID","UserID":"$.Attributes.userID","Time":"$.Attributes.Time","AppointmentDate":"$.Attributes.AppointmentDate"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Lambda Call to Reschedule Appointment","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"8a12f8ed-2c09-4535-abd7-9ea1f4076d93","Errors":[{"NextAction":"8a12f8ed-2c09-4535-abd7-9ea1f4076d93","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"statusCode":"$.External.statusCode","appointmentDate":"$.External.AppointmentDate","time":"$.External.Time"},"TargetContact":"Current"},"Identifier":"8a12f8ed-2c09-4535-abd7-9ea1f4076d93","Type":"UpdateContactAttributes","Transitions":{"NextAction":"90e8b033-b709-4512-97a5-429f04b179f1","Errors":[{"NextAction":"90e8b033-b709-4512-97a5-429f04b179f1","ErrorType":"NoMatchingError"}]}}],"Settings":{"InputParameters":[],"OutputParameters":[],"Transitions":[{"DisplayName":"Success","ReferenceName":"Success","Description":""},{"DisplayName":"Error","ReferenceName":"Error","Description":""}]}}